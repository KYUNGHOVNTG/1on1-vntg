# HR 시스템 통합 테스트 가이드

## 📋 개요

이 문서는 HR 인사관리 시스템의 모든 기능을 로컬 환경에서 직접 테스트하는 가이드입니다.
로그인부터 각 기능의 동작까지 단계별로 확인할 수 있습니다.

**테스트 대상 기능:**
- ✅ 직원 목록 조회 (검색, 필터링, 페이징)
- ✅ 직원 상세 조회 (겸직 정보 포함)
- ✅ 조직도 트리 뷰
- ✅ 부서 상세 조회 (소속 직원 목록)
- ✅ 직원/부서 동기화 관리
- ✅ 동기화 이력 조회

---

## 🚀 1단계: 환경 준비

### 1-1. 데이터베이스 마이그레이션 실행

```bash
# 프로젝트 루트로 이동
cd /home/user/1on1-vntg

# Alembic 마이그레이션 실행 (HR 테이블 + 메뉴 생성)
alembic upgrade head

# 마이그레이션 성공 확인
# 출력: "Running upgrade ... -> g3h4i5j6k7l8, add_hr_menu_and_permissions"
```

**확인 사항:**
- `hr_mgnt` 테이블 생성 확인
- `hr_mgnt_concur` 테이블 생성 확인
- `cm_department` 테이블 생성 확인
- `cm_department_tree` 테이블 생성 확인
- `hr_sync_history` 테이블 생성 확인
- `cm_menu` 테이블에 M005 메뉴 추가 확인

### 1-2. 초기 데이터 확인

```bash
# PostgreSQL 접속 (Supabase 또는 로컬 DB)
psql -h [DB_HOST] -U [DB_USER] -d [DB_NAME]

# 메뉴 데이터 확인
SELECT menu_code, menu_name, up_menu_code, menu_level, menu_url
FROM cm_menu
WHERE menu_code LIKE 'M005%'
ORDER BY menu_code;
```

**예상 결과:**
```
menu_code | menu_name    | up_menu_code | menu_level | menu_url
----------+--------------+--------------+------------+------------------
M005      | 인사관리      | NULL         | 1          | /hr
M005_1    | 직원 관리     | M005         | 2          | /hr/employees
M005_2    | 조직도 관리   | M005         | 2          | /hr/org-chart
M005_3    | 동기화 관리   | M005         | 2          | /hr/sync
```

### 1-3. 백엔드 서버 실행

```bash
# 터미널 1: 백엔드 서버
cd /home/user/1on1-vntg
uvicorn server.app.main:app --reload --host 0.0.0.0 --port 8000

# 서버 시작 확인
# 출력: "Uvicorn running on http://0.0.0.0:8000"
# 출력: "Application startup complete."
```

**API 엔드포인트 확인:**
```bash
# Health Check
curl http://localhost:8000/health

# 예상 결과: {"status":"ok"}
```

### 1-4. 프론트엔드 서버 실행

```bash
# 터미널 2: 프론트엔드 서버
cd /home/user/1on1-vntg/client
npm run dev

# 서버 시작 확인
# 출력: "Local:   http://localhost:5173/"
```

### 1-5. 테스트 계정 확인

로그인할 계정이 다음 조건을 만족하는지 확인:
- ✅ `cm_user` 테이블에 등록되어 있음
- ✅ `position_code`가 `P001`, `P002`, `P003` 중 하나 (HR 메뉴 접근 권한)
- ✅ Google OAuth 로그인 가능한 이메일

**기본 테스트 계정:**
```sql
SELECT user_id, email, role_code, position_code
FROM cm_user
WHERE position_code IN ('P001', 'P002', 'P003');
```

예시:
```
user_id    | email                    | role_code | position_code
-----------+--------------------------+-----------+--------------
cjhol2107  | cjhol2107@vntgcorp.com   | R001      | P001
```

---

## 🧪 2단계: 로그인 및 메뉴 확인

### 2-1. 브라우저 접속

1. **브라우저에서 접속**
   ```
   http://localhost:5173
   ```

2. **Google 로그인 클릭**
   - "Google로 로그인" 버튼 클릭
   - Google 계정 선택 (테스트 계정)
   - 권한 동의 (필요시)

3. **로그인 성공 확인**
   - 대시보드 페이지로 리다이렉트
   - 상단 네비게이션 바에 사용자 정보 표시
   - URL: `http://localhost:5173/`

### 2-2. HR 메뉴 확인

**좌측 사이드바 또는 메뉴 바에서 확인:**
- ✅ "인사관리" 메뉴 표시 여부
- ✅ 하위 메뉴 표시 여부:
  - 직원 관리
  - 조직도 관리
  - 동기화 관리

**권한 테스트:**
- P001, P002, P003: 모든 HR 메뉴 표시
- P004, P005: HR 메뉴 미표시

### 2-3. 개발자 도구로 네트워크 확인

**Chrome DevTools 열기:**
- `F12` 또는 `Ctrl+Shift+I` (Windows/Linux)
- `Cmd+Option+I` (Mac)

**Network 탭 확인:**
```
GET /api/v1/auth/me → 200 OK
GET /api/v1/menus/user-menus → 200 OK
```

**Response 확인:**
```json
{
  "menus": [
    {
      "menu_code": "M005",
      "menu_name": "인사관리",
      "menu_level": 1,
      "children": [
        {
          "menu_code": "M005_1",
          "menu_name": "직원 관리",
          "menu_url": "/hr/employees"
        },
        ...
      ]
    }
  ]
}
```

---

## 📝 3단계: 직원 관리 기능 테스트

### 3-1. 직원 목록 페이지 접근

**방법 1: 메뉴에서 클릭**
1. 좌측 메뉴에서 "인사관리" 클릭
2. "직원 관리" 클릭

**방법 2: 직접 URL 접속**
```
http://localhost:5173/hr/employees
```

### 3-2. 직원 목록 조회 테스트

#### ✅ 초기 로딩 확인
- [ ] 로딩 스피너 표시
- [ ] 직원 목록 테이블 표시
- [ ] 페이징 컨트롤 표시 (하단)

#### ✅ 테이블 컬럼 확인
- [ ] 사번 (EMP_NO)
- [ ] 성명 (NAME_KOR)
- [ ] 부서 (DEPT_CODE)
- [ ] 직책 (POSITION_CODE)
- [ ] 재직 여부 (ON_WORK_YN)
- [ ] 겸직 배지 (있는 경우)

#### ✅ 검색 기능 테스트

**테스트 케이스 1: 성명 검색**
```
1. 검색 입력창에 "홍길동" 입력
2. "검색" 버튼 클릭
3. 결과 확인: "홍길동"이 포함된 직원만 표시
```

**테스트 케이스 2: 사번 검색**
```
1. 검색 입력창에 "E001" 입력
2. "검색" 버튼 클릭
3. 결과 확인: 사번이 "E001"인 직원 표시
```

**개발자 도구 Network 확인:**
```
GET /api/v1/hr/employees?search=홍길동&page=1&size=20
Response: 200 OK
```

#### ✅ 필터링 테스트

**테스트 케이스 3: 재직 여부 필터**
```
1. "재직 여부" 드롭다운 클릭
2. "재직" 선택
3. 결과 확인: on_work_yn = 'Y'인 직원만 표시
```

**테스트 케이스 4: 직책 필터**
```
1. "직책" 드롭다운 클릭
2. "팀장" 선택
3. 결과 확인: position_code = 'P004'인 직원만 표시
```

**개발자 도구 Network 확인:**
```
GET /api/v1/hr/employees?on_work_yn=Y&page=1&size=20
Response: 200 OK
```

#### ✅ 페이징 테스트

**테스트 케이스 5: 페이지 이동**
```
1. 하단 페이징 컨트롤에서 "2" 클릭
2. 결과 확인: 2페이지 데이터 로드
3. URL 확인: page 파라미터 변경
```

**개발자 도구 Network 확인:**
```
GET /api/v1/hr/employees?page=2&size=20
Response: 200 OK
```

### 3-3. 직원 상세 조회 테스트

#### ✅ 상세 페이지 접근
```
1. 직원 목록에서 특정 직원 행 클릭
2. 직원 상세 모달 또는 페이지 표시
```

#### ✅ 기본 정보 확인
- [ ] 사번
- [ ] 성명
- [ ] 소속 부서
- [ ] 직책
- [ ] 재직 여부
- [ ] 이메일 (있는 경우)

#### ✅ 겸직 정보 확인
**겸직자인 경우:**
- [ ] 겸직 정보 섹션 표시
- [ ] 겸직 부서 목록 표시
- [ ] 각 겸직의 직책 표시
- [ ] 주소속 표시 (IS_MAIN = 'Y')

**개발자 도구 Network 확인:**
```
GET /api/v1/hr/employees/{emp_no}
Response: 200 OK

GET /api/v1/hr/employees/{emp_no}/concurrent-positions
Response: 200 OK
```

---

## 🌳 4단계: 조직도 관리 기능 테스트

### 4-1. 조직도 페이지 접근

**방법 1: 메뉴에서 클릭**
1. 좌측 메뉴에서 "인사관리" 클릭
2. "조직도 관리" 클릭

**방법 2: 직접 URL 접속**
```
http://localhost:5173/hr/org-chart
```

### 4-2. 조직도 트리 뷰 테스트

#### ✅ 초기 로딩 확인
- [ ] 로딩 스피너 표시
- [ ] 조직도 트리 렌더링
- [ ] 최상위 노드(Level 1) 표시

#### ✅ 트리 구조 확인
**Level 1 (루트):**
- [ ] 부서 코드 표시
- [ ] 부서명 표시
- [ ] 레벨 배지 표시 (L1, 파란색)
- [ ] 부서장 이름 표시 (있는 경우)
- [ ] 소속 직원 수 표시

**Level 2 (하위 부서):**
- [ ] Level 1 노드 확장 시 표시
- [ ] 레벨 배지 표시 (L2, 초록색)

**Level 3 (최하위 부서):**
- [ ] Level 2 노드 확장 시 표시
- [ ] 레벨 배지 표시 (L3, 회색)

#### ✅ 확장/축소 테스트

**테스트 케이스 1: 노드 확장**
```
1. Level 1 노드의 화살표 아이콘 클릭
2. 하위 노드(Level 2) 표시 확인
3. 애니메이션 확인
```

**테스트 케이스 2: 노드 축소**
```
1. 확장된 노드의 화살표 아이콘 다시 클릭
2. 하위 노드 숨김 확인
3. 애니메이션 확인
```

#### ✅ 부서 선택 테스트

**테스트 케이스 3: 부서 클릭**
```
1. 특정 부서 노드 클릭
2. 우측 패널에 부서 상세 정보 표시
3. 또는 부서 상세 페이지로 이동
```

**개발자 도구 Network 확인:**
```
GET /api/v1/hr/org-tree
Response: 200 OK
{
  "tree": [
    {
      "dept_code": "D001",
      "dept_name": "경영지원팀",
      "level": 1,
      "dept_head_name": "홍길동",
      "employee_count": 15,
      "children": [...]
    }
  ]
}
```

### 4-3. 부서 상세 페이지 테스트

#### ✅ 부서 상세 페이지 접근
**방법 1: 조직도에서 부서 클릭**
```
1. 조직도에서 특정 부서 클릭
2. "상세 보기" 또는 부서명 클릭
3. 부서 상세 페이지로 이동
```

**방법 2: 직접 URL 접속**
```
http://localhost:5173/hr/departments/{dept_code}
예: http://localhost:5173/hr/departments/D001
```

#### ✅ 부서 정보 카드 확인
- [ ] 부서 코드
- [ ] 부서명
- [ ] 상위 부서 (있는 경우)
- [ ] 부서장 정보 (성명, 사번)
- [ ] 소속 직원 수 (주소속 + 겸직)

#### ✅ 소속 직원 목록 확인
**테이블 컬럼:**
- [ ] 사번
- [ ] 성명
- [ ] 직책
- [ ] 소속 구분 (주소속/겸직)
- [ ] 재직 여부

**정렬 확인:**
- [ ] 주소속 직원이 먼저 표시
- [ ] 겸직 직원이 나중에 표시

**개발자 도구 Network 확인:**
```
GET /api/v1/hr/departments/{dept_code}/info
Response: 200 OK

GET /api/v1/hr/departments/{dept_code}/employees
Response: 200 OK
```

---

## 🔄 5단계: 동기화 관리 기능 테스트

### 5-1. 동기화 관리 페이지 접근

**방법 1: 메뉴에서 클릭**
1. 좌측 메뉴에서 "인사관리" 클릭
2. "동기화 관리" 클릭

**방법 2: 직접 URL 접속**
```
http://localhost:5173/hr/sync
```

### 5-2. 페이지 레이아웃 확인

#### ✅ 상단 섹션: 동기화 버튼
- [ ] "직원 정보 동기화" 카드 표시
  - [ ] 제목: "직원 정보 동기화"
  - [ ] 설명: "외부 시스템의 직원 데이터를 동기화합니다"
  - [ ] 아이콘: Database 아이콘
  - [ ] 버튼: "직원 동기화 실행"

- [ ] "부서 정보 동기화" 카드 표시
  - [ ] 제목: "부서 정보 동기화"
  - [ ] 설명: "외부 시스템의 부서 데이터를 동기화합니다"
  - [ ] 아이콘: Database 아이콘
  - [ ] 버튼: "부서 동기화 실행"

#### ✅ 하단 섹션: 동기화 이력
- [ ] "동기화 이력" 제목 표시
- [ ] 이력 테이블 표시
- [ ] "새로고침" 버튼 표시

### 5-3. 직원 정보 동기화 테스트

#### ✅ 동기화 실행

**테스트 케이스 1: 정상 동기화**
```
1. "직원 동기화 실행" 버튼 클릭
2. 로딩 인디케이터 표시 확인
3. Toast 알림 표시 확인: "직원 정보 동기화 완료"
4. 동기화 이력 테이블 자동 갱신 확인
```

**예상 동작:**
- 버튼이 비활성화됨 (로딩 중)
- 스피너 아이콘 표시
- 3-5초 후 완료
- 성공 Toast 표시 (초록색)

**개발자 도구 Network 확인:**
```
POST /api/v1/hr/sync/employees
Request Body: [
  {
    "emp_no": "E001",
    "user_id": "user001",
    "name_kor": "홍길동",
    "dept_code": "D001",
    "position_code": "P004",
    "on_work_yn": "Y"
  },
  ...
]

Response: 200 OK
{
  "sync_id": 1,
  "sync_type": "employees",
  "sync_status": "success",
  "total_count": 10,
  "success_count": 10,
  "failure_count": 0,
  "message": "직원 정보 동기화 완료: 성공 10건, 실패 0건"
}
```

**테스트 케이스 2: 부분 실패 동기화**
```
(Mock 데이터에 잘못된 데이터 포함하여 테스트)
1. "직원 동기화 실행" 버튼 클릭
2. 완료 후 Toast 확인: "부분 성공" 메시지
3. 이력 테이블에서 상태 확인: "partial" (주황색)
```

### 5-4. 부서 정보 동기화 테스트

#### ✅ 동기화 실행

**테스트 케이스 3: 정상 동기화**
```
1. "부서 동기화 실행" 버튼 클릭
2. 로딩 인디케이터 표시 확인
3. Toast 알림 표시 확인: "부서 정보 동기화 완료"
4. 동기화 이력 테이블 자동 갱신 확인
```

**개발자 도구 Network 확인:**
```
POST /api/v1/hr/sync/departments
Request Body: [
  {
    "dept_code": "D001",
    "dept_name": "경영지원팀",
    "upper_dept_code": null,
    "dept_head_emp_no": "E001",
    "use_yn": "Y"
  },
  ...
]

Response: 200 OK
{
  "sync_id": 2,
  "sync_type": "departments",
  "sync_status": "success",
  "total_count": 5,
  "success_count": 5,
  "failure_count": 0,
  "message": "부서 정보 동기화 완료: 성공 5건, 실패 0건"
}
```

### 5-5. 동기화 이력 확인

#### ✅ 이력 테이블 확인
**테이블 컬럼:**
- [ ] ID (sync_id)
- [ ] 동기화 타입 (직원/부서)
- [ ] 상태 (성공/실패/부분성공)
- [ ] 전체 건수
- [ ] 성공 건수
- [ ] 실패 건수
- [ ] 실행 시각
- [ ] 소요 시간

**상태 배지 확인:**
- [ ] 성공: 초록색 배지 + 체크 아이콘
- [ ] 실패: 빨간색 배지 + X 아이콘
- [ ] 부분성공: 주황색 배지 + 경고 아이콘

#### ✅ 이력 새로고침

**테스트 케이스 4: 수동 새로고침**
```
1. "새로고침" 버튼 클릭
2. 로딩 표시 확인
3. 최신 이력 데이터 로드 확인
```

**개발자 도구 Network 확인:**
```
GET /api/v1/hr/sync/history?limit=50
Response: 200 OK
{
  "items": [
    {
      "sync_id": 2,
      "sync_type": "departments",
      "sync_status": "success",
      "total_count": 5,
      "success_count": 5,
      "failure_count": 0,
      "sync_start_time": "2026-02-12T06:30:00Z",
      "sync_end_time": "2026-02-12T06:30:05Z",
      ...
    },
    ...
  ],
  "total": 2
}
```

---

## ✅ 6단계: 통합 시나리오 테스트

### 시나리오 1: 신입 사원 등록 ~ 조직도 확인

```
1. [동기화 관리] 직원 정보 동기화 실행 (신입 사원 포함)
2. [직원 관리] 직원 목록에서 신입 사원 검색
3. [직원 관리] 신입 사원 상세 정보 확인
4. [조직도 관리] 조직도에서 신입 사원 소속 부서 확인
5. [조직도 관리] 부서 상세 페이지에서 신입 사원 확인
```

**예상 소요 시간:** 3-5분

### 시나리오 2: 부서 개편 ~ 조직도 반영

```
1. [동기화 관리] 부서 정보 동기화 실행 (부서 개편 데이터)
2. [조직도 관리] 조직도 트리 확인 (새로운 부서 구조)
3. [조직도 관리] 변경된 부서 클릭
4. [조직도 관리] 부서 상세에서 부서장 정보 확인
5. [직원 관리] 부서장 상세 정보 확인
```

**예상 소요 시간:** 3-5분

### 시나리오 3: 겸직자 관리

```
1. [직원 관리] 직원 목록에서 겸직자 검색 (겸직 배지 확인)
2. [직원 관리] 겸직자 상세 정보에서 겸직 정보 확인
3. [조직도 관리] 주소속 부서 상세 페이지에서 겸직자 확인
4. [조직도 관리] 겸직 부서 상세 페이지에서 겸직자 확인
5. [조직도 관리] 겸직 구분 표시 확인 (주소속/겸직)
```

**예상 소요 시간:** 5-7분

---

## 🐛 7단계: 에러 케이스 테스트

### 7-1. 네트워크 에러 시뮬레이션

**테스트 방법:**
```
1. Chrome DevTools 열기 (F12)
2. Network 탭으로 이동
3. "Offline" 체크박스 선택 (네트워크 차단)
4. 직원 목록 페이지 새로고침
5. 에러 메시지 확인
```

**예상 동작:**
- [ ] 로딩 스피너 표시
- [ ] Toast 에러 메시지 표시: "데이터를 불러오는데 실패했습니다"
- [ ] 재시도 버튼 표시
- [ ] 네트워크 복구 후 재시도 성공

### 7-2. 권한 없는 페이지 접근

**테스트 방법:**
```
1. P004 또는 P005 계정으로 로그인
2. 브라우저 주소창에 직접 입력: /hr/employees
3. 접근 차단 확인
```

**예상 동작:**
- [ ] 403 Forbidden 에러 페이지 표시
- [ ] 또는 대시보드로 리다이렉트
- [ ] Toast 메시지: "접근 권한이 없습니다"

### 7-3. 존재하지 않는 데이터 접근

**테스트 케이스 1: 존재하지 않는 직원**
```
1. 브라우저 주소창: /hr/employees/INVALID_EMP_NO
2. 404 에러 처리 확인
```

**예상 동작:**
- [ ] 404 Not Found 페이지 표시
- [ ] "직원을 찾을 수 없습니다" 메시지
- [ ] "목록으로 돌아가기" 버튼

**테스트 케이스 2: 존재하지 않는 부서**
```
1. 브라우저 주소창: /hr/departments/INVALID_DEPT_CODE
2. 404 에러 처리 확인
```

**예상 동작:**
- [ ] 404 Not Found 페이지 표시
- [ ] "부서를 찾을 수 없습니다" 메시지
- [ ] "조직도로 돌아가기" 버튼

---

## 📊 8단계: 성능 테스트

### 8-1. 대용량 데이터 테스트

**준비:**
```sql
-- 대량의 직원 데이터 삽입 (1000명)
-- (실제 환경에서는 Bulk Insert 스크립트 실행)
```

**테스트:**
1. 직원 목록 페이지 로드 시간 측정
2. 조직도 트리 렌더링 시간 측정
3. 페이징 이동 시간 측정

**성능 기준:**
- [ ] 직원 목록 (1000명): 2초 이내
- [ ] 조직도 트리 변환: 1초 이내
- [ ] 페이징 이동: 1초 이내

### 8-2. 동시 동기화 테스트

**테스트 방법:**
```
1. 직원 동기화 버튼 클릭
2. 즉시 부서 동기화 버튼 클릭
3. 동시 실행 처리 확인
```

**예상 동작:**
- [ ] 두 요청 모두 정상 처리
- [ ] 동기화 이력에 2개 레코드 생성
- [ ] 순서대로 Toast 메시지 표시

---

## 📝 9단계: 체크리스트

### 기능 체크리스트

#### 직원 관리
- [ ] 직원 목록 조회
- [ ] 직원 검색 (성명, 사번)
- [ ] 직원 필터링 (재직 여부, 직책)
- [ ] 직원 상세 조회
- [ ] 겸직 정보 표시
- [ ] 페이징 동작

#### 조직도 관리
- [ ] 조직도 트리 렌더링
- [ ] 트리 확장/축소
- [ ] 부서 선택
- [ ] 부서 상세 조회
- [ ] 부서장 정보 표시
- [ ] 소속 직원 목록 표시

#### 동기화 관리
- [ ] 직원 정보 동기화
- [ ] 부서 정보 동기화
- [ ] 동기화 이력 조회
- [ ] 이력 새로고침
- [ ] 상태 배지 표시

### UI/UX 체크리스트

#### 디자인 시스템
- [ ] 1on1-Mirror 색상 팔레트 준수
- [ ] Tailwind CSS 사용 (인라인 스타일 없음)
- [ ] 반응형 레이아웃
- [ ] 로딩 인디케이터 표시
- [ ] Toast 알림 표시
- [ ] 버튼 호버 효과

#### 접근성
- [ ] 키보드 네비게이션
- [ ] 스크린 리더 지원 (aria-label)
- [ ] 색상 대비 (WCAG 2.1 AA)
- [ ] 포커스 인디케이터

### 기술 체크리스트

#### 백엔드
- [ ] Repository 패턴 준수
- [ ] Service → Repository → DB 흐름
- [ ] 타입 힌트 완성도
- [ ] 에러 핸들링
- [ ] 로깅

#### 프론트엔드
- [ ] Zustand 상태 관리
- [ ] apiClient 사용 (axios 직접 import 없음)
- [ ] 타입 안전성 (any 없음)
- [ ] 에러 핸들링
- [ ] 컴포넌트 분리

---

## 🆘 10단계: 문제 해결 가이드

### 문제 1: 메뉴가 표시되지 않음

**증상:**
- 로그인 후 "인사관리" 메뉴가 보이지 않음

**원인 및 해결:**
1. **마이그레이션 미실행**
   ```bash
   alembic upgrade head
   ```

2. **권한 없음 (P004, P005 계정)**
   - P001, P002, P003 계정으로 로그인 필요

3. **DB 확인**
   ```sql
   SELECT * FROM cm_menu WHERE menu_code LIKE 'M005%';
   SELECT * FROM cm_position_menu WHERE menu_code LIKE 'M005%';
   ```

### 문제 2: API 호출 실패 (404 Not Found)

**증상:**
- Network 탭에서 `/api/v1/hr/...` 404 에러

**원인 및 해결:**
1. **백엔드 서버 미실행**
   ```bash
   uvicorn server.app.main:app --reload --host 0.0.0.0 --port 8000
   ```

2. **Router 미등록**
   ```python
   # server/app/main.py 확인
   from server.app.api.v1.endpoints.hr import router as hr_router
   app.include_router(hr_router, prefix="/api/v1/hr")
   ```

### 문제 3: 데이터가 표시되지 않음

**증상:**
- 직원 목록이 빈 테이블로 표시

**원인 및 해결:**
1. **테이블에 데이터 없음**
   ```sql
   SELECT COUNT(*) FROM hr_mgnt;
   SELECT COUNT(*) FROM cm_department;
   ```

2. **초기 데이터 삽입**
   ```bash
   psql -h [DB_HOST] -U [DB_USER] -d [DB_NAME] -f migration/seed_hr_data.sql
   ```

### 문제 4: 동기화 실행 실패

**증상:**
- "직원 동기화 실행" 버튼 클릭 시 에러

**원인 및 해결:**
1. **Mock 데이터 오류**
   - SyncManagementPage.tsx에서 Mock 데이터 확인
   - 필수 필드 누락 여부 확인

2. **Service 로직 에러**
   ```bash
   # 백엔드 로그 확인
   tail -f server/logs/app.log
   ```

3. **DB 제약 조건 위반**
   - Foreign Key 제약 확인
   - NOT NULL 제약 확인

### 문제 5: 조직도 트리가 렌더링되지 않음

**증상:**
- 조직도 페이지에서 빈 화면

**원인 및 해결:**
1. **cm_department_tree 테이블 없음**
   ```sql
   SELECT * FROM cm_department_tree LIMIT 10;
   ```

2. **트리 데이터 구조 오류**
   - upper_dept_code 순환 참조 확인
   - disp_lvl 값 확인

3. **Calculator 로직 오류**
   - `OrgTreeCalculator.build_tree()` 로직 확인
   - 백엔드 로그에서 스택 트레이스 확인

---

## 📚 11단계: 추가 리소스

### API 문서
- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

### 로그 확인
```bash
# 백엔드 로그
tail -f server/logs/app.log

# 프론트엔드 로그
# 브라우저 Console 탭 확인
```

### DB 직접 확인
```bash
# PostgreSQL CLI 접속
psql -h [DB_HOST] -U [DB_USER] -d [DB_NAME]

# 주요 테이블 확인
\dt cm_*
\dt hr_*

# 샘플 쿼리
SELECT * FROM hr_mgnt LIMIT 10;
SELECT * FROM cm_department LIMIT 10;
SELECT * FROM hr_sync_history ORDER BY sync_id DESC LIMIT 10;
```

---

## ✅ 테스트 완료 보고서 템플릿

```markdown
# HR 시스템 통합 테스트 결과

**테스트 일시:** 2026-02-12
**테스터:** [이름]
**환경:** 로컬 개발 환경

## 테스트 결과 요약

| 기능 | 상태 | 비고 |
|------|------|------|
| 직원 목록 조회 | ✅ 성공 | |
| 직원 검색 | ✅ 성공 | |
| 직원 상세 조회 | ✅ 성공 | |
| 조직도 트리 뷰 | ✅ 성공 | |
| 부서 상세 조회 | ✅ 성공 | |
| 직원 동기화 | ✅ 성공 | |
| 부서 동기화 | ✅ 성공 | |
| 동기화 이력 | ✅ 성공 | |

## 발견된 이슈

1. **[이슈 제목]**
   - 증상: [상세 설명]
   - 재현 방법: [단계]
   - 스크린샷: [첨부]

## 개선 제안

1. [제안 내용]
2. [제안 내용]

## 결론

- [ ] 모든 기능 정상 동작
- [ ] 일부 기능 수정 필요
- [ ] 추가 테스트 필요
```

---

**문서 작성일:** 2026-02-12
**문서 버전:** 1.0
**다음 업데이트:** 버그 수정 후
